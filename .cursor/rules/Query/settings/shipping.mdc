---
description: Shipping Configuration Query API for shipping methods, zones, and shipping sets management
globs: 
alwaysApply: false
---

# Shipping Configuration Query API

## Overview

Shipping configuration consists of three levels:
1. **Shipping Methods** - Define delivery types (HOME, POINT, STORE)
2. **Shipping Zones** - Group countries for reusable configuration
3. **Shipping Sets** - Configure pricing per market/zone

## Endpoints

### Shipping Methods

**GET** `/server/configuration/shipping-methods/retrieve`
**GET** `/server/configuration/shipping-methods/retrieve/:id`

### Shipping Zones

**GET** `/server/configuration/shipping-zones/query`
**GET** `/server/configuration/shipping-zones/retrieve`
**GET** `/server/configuration/shipping-zones/retrieve/:id`

### Shipping Sets

**GET** `/server/configuration/shipping-sets/retrieve`
**GET** `/server/configuration/shipping-sets/retrieve/:id`

## Shipping Methods

### Retrieve All Shipping Methods
```bash
curl -X GET "http://localhost:3100/server/configuration/shipping-methods/retrieve"
```

### Retrieve Single Shipping Method
```bash
curl -X GET "http://localhost:3100/server/configuration/shipping-methods/retrieve/{method-id}"
```

### Response Format
```json
{
  "success": true,
  "data": [
    {
      "id": "method-uuid",
      "handle": "standard-home",
      "name": "Standard Home Delivery",
      "type": "HOME",
      "description": "Delivery to your door",
      "widget": null,
      "widget_code": null,
      "config": {},
      "created_at": "2024-01-15T10:00:00Z"
    }
  ]
}
```

## Shipping Sets

### Retrieve All Shipping Sets
```bash
curl -X GET "http://localhost:3100/server/configuration/shipping-sets/retrieve"
```

### Retrieve by Market Currency
```bash
curl -X GET "http://localhost:3100/server/configuration/shipping-sets/retrieve?market_currency=USD_US"
```

### Retrieve by Country
```bash
curl -X GET "http://localhost:3100/server/configuration/shipping-sets/retrieve?country=US"
```

### Response Format
```json
{
  "success": true,
  "data": [
    {
      "id": "set-uuid",
      "shipping_method": {
        "id": "method-uuid",
        "name": "Standard Home Delivery",
        "handle": "standard-home",
        "type": "HOME"
      },
      "market_currency": "USD_US",
      "price": 999,
      "country": ["US", "CA"],
      "position": 1,
      "created_at": "2024-01-15T10:00:00Z"
    }
  ]
}
```

## Shipping Zones

### Query Shipping Zones
```bash
# Get all zones with pagination
curl "http://localhost:3100/server/configuration/shipping-zones/query?page=1&limit=50"
```

### Query Parameters
- `page` (integer, optional) - Page number (default: 1)
- `limit` (integer, optional) - Results per page (default: 50)
- `country` (string, optional) - Filter zones that include specific country code
- `is_active` (boolean, optional) - Filter by active status (true/false)
- `search` (string, optional) - Search in zone name and description

### Retrieve All Shipping Zones
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/retrieve"
```

### Retrieve by Country
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/retrieve?country=DE"
```

### Retrieve Single Shipping Zone
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/retrieve/{zone-id}"
```

### Response Format
```json
{
  "success": true,
  "data": [
    {
      "id": "zone-uuid",
      "name": "DACH",
      "description": "Germany, Austria, Switzerland",
      "countries": ["DE", "AT", "CH"],
      "is_active": true,
      "created_at": "2025-12-24T10:00:00Z",
      "updated_at": "2025-12-24T10:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 8,
    "total_pages": 1
  }
}
```

### Common Zone Query Use Cases

#### 1. Get All Active Zones
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/query?is_active=true"
```

#### 2. Find Zones for Specific Country
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/query?country=CZ"
```

#### 3. Search Zones by Name
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/query?search=DACH"
```

#### 4. Combined Filters
```bash
curl "http://localhost:3100/server/configuration/shipping-zones/query?country=DE&is_active=true&page=1&limit=20"
```

## Shipping Types

- **HOME**: Home delivery to customer's address
- **POINT**: Pickup point delivery (lockers, stores)
- **STORE**: Store pickup

## Related Endpoints

### Shipping Methods
- **Create**: `POST /server/configuration/shipping-methods/create`
- **Modify**: `PUT /server/configuration/shipping-methods/modify/:id`
- **Delete**: `DELETE /server/configuration/shipping-methods/delete/:id`

### Shipping Zones
- **Create**: `POST /server/configuration/shipping-zones/create`
- **Query**: `GET /server/configuration/shipping-zones/query`
- **Retrieve**: `GET /server/configuration/shipping-zones/retrieve/:id`
- **Modify**: `PUT /server/configuration/shipping-zones/modify/:id`
- **Delete**: `DELETE /server/configuration/shipping-zones/delete/:id`

### Shipping Sets
- **Create**: `POST /server/configuration/shipping-sets/create`
- **Modify**: `PUT /server/configuration/shipping-sets/modify/:id`
- **Delete**: `DELETE /server/configuration/shipping-sets/delete/:id`


